#!/bin/bash

wick-load-role() {
    local LOCATION ROLE

    if [[ ${#@} -eq 0 ]]; then
        echo "You must specify a role to load."

        return 1
    fi

    if ! wick-find LOCATION "roles/$1"; then
        echo "Unable to find role $1"

        return 1
    fi

    shift
    echo "Using role $1 ($LOCATION)"
    WICK_ROLE_DIR=${LOCATION%/*}
    . "$LOCATION" "$@"
}
