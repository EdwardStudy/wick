#!/bin/bash

wick-get-iface-ip() {
    local IP LIST

    if [[ "$2" == '*' ]]; then
        IP=$(ifconfig -v | grep inet\ addr: || echo "")
        IP=${IP#*:}
        IP=${IP%% *}
        LIST=($IP)

        local "$1" && wick-indirect-array "$1" "${LIST[@]}"
        return 0
    fi

    IP=$(ifconfig -v $2 | grep inet\ addr: | head -n 1 || echo "")
    IP=${IP#*:}
    IP=${IP%% *}

    if [[ -z "$IP" ]]; then
        return 1
    fi

    local "$1" && wick-indirect "$1" "$IP"
}

