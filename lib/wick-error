#!/bin/bash
#
# Writes an error message to the logging system.
#
# This message is always written to stderr.
#
# Parameters:
#     $*: The log message to write
wick-error() (
    set +x
    local OUTPUT

    wick-log "ERROR" "$*"
    wick-prefix-lines OUTPUT "ERROR: " "$*"

    if [[ ! -z "${WICK_COLOR-}" ]]; then
        OUTPUT=$'\E[41;37;1m'"$OUTPUT"$'\E[0m'
    fi

    echo "$OUTPUT" >&2
)
